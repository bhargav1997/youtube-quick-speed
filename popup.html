<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Speed Controller</title>
    <link rel="stylesheet" href="popup.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>

    <!-- Top Header (Always Visible) -->
    <header>
        <div class="title-group">
            <div class="logo-icon">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path
                        d="M10 8v8l6-4-6-4zm9-6H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H5V4h14v16z" />
                </svg>
            </div>
            <h1>Speed Control</h1>
        </div>
        <div id="current-speed-display" class="speed-badge">1.0x</div>
    </header>

    <div class="main-content">

        <!-- VIEW 1: SPEED (Home) -->
        <div id="view-speed" class="view-section active">
            <div class="section-title">Playback Speed</div>
            <div class="grid-controls">
                <button class="speed-btn" data-speed="0.25">0.25x</button>
                <button class="speed-btn" data-speed="0.75">0.75x</button>
                <button class="speed-btn" data-speed="1">1x</button>
                <button class="speed-btn" data-speed="1.25">1.25x</button>
                <button class="speed-btn" data-speed="1.5">1.5x</button>
                <button class="speed-btn" data-speed="2">2x</button>
                <button class="speed-btn" data-speed="3">3x</button>
                <button class="speed-btn" data-speed="4">4x</button>
            </div>
            <button id="reset-btn" class="reset-btn">
                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" style="margin-right: 8px;">
                    <path
                        d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" />
                </svg>
                Reset to Normal
            </button>
        </div>

        <!-- VIEW 2: TOOLS (Volume & Loop) -->
        <div id="view-tools" class="view-section" style="display: none;">

            <!-- Volume -->
            <div class="control-panel">
                <div class="panel-header">
                    <div class="icon-wrap">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                            <path
                                d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" />
                        </svg>
                    </div>
                    <span>Volume Boost</span>
                    <span id="vol-value" class="value-tag">100%</span>
                </div>
                <div class="slider-container">
                    <input type="range" id="vol-slider" min="1" max="6" step="0.1" value="1">
                </div>
            </div>

            <!-- Loop -->
            <div class="control-panel">
                <div class="panel-header">
                    <div class="icon-wrap">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                            <path
                                d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z" />
                        </svg>
                    </div>
                    <span>A-B Loop</span>
                    <span id="loop-status" class="value-tag off">OFF</span>
                </div>

                <div class="loop-grid">
                    <button id="btn-loop-a" class="loop-btn">
                        <span class="label">A (Start)</span>
                        <span class="time" id="time-a">Set</span>
                    </button>
                    <button id="btn-loop-b" class="loop-btn">
                        <span class="label">B (End)</span>
                        <span class="time" id="time-b">Set</span>
                    </button>
                    <button id="btn-loop-clear" class="loop-btn clear-btn" disabled title="Clear Loop">
                        âœ•
                    </button>
                </div>
                <div class="how-it-works-small">
                    <span>Pause at desired start & click <b>A</b>. Pause at end & click <b>B</b> to loop.</span>
                </div>
            </div>
        </div>

        <!-- VIEW 3: SETTINGS -->
        <div id="view-settings" class="view-section" style="display: none;">
            <div class="settings-panel">

                <!-- Zen Mode -->
                <div class="setting-card">
                    <div class="setting-row">
                        <div class="setting-label">
                            <div class="icon-wrap">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                    <path
                                        d="M9 21c-4.5 0-8-4-8-9S5 2 10 2c.33 0 .66.02.97.05C10.33 2.66 10 3.32 10 4c0 3.87 3.13 7 7 7 1.07 0 2.07-.26 2.97-.73C19.7 15.07 15.65 21 9 21z" />
                                </svg>
                            </div>
                            <div class="text-col">
                                <span class="primary">Zen Mode</span>
                                <span class="secondary">Hide sidebar & comments</span>
                            </div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="zen-mode-toggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Boost -->
                <div class="setting-card">
                    <div class="setting-row">
                        <div class="setting-label">
                            <div class="icon-wrap">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                    <path
                                        d="M19 19h-6v-1.15c1.43-.88 2.37-2.44 2.37-4.21 0-2.48-1.79-4.52-4.14-4.89l3.52 3.52c1.43 1.95 2.65 4.15 4.25 6.73zM5.33 4.06l14.61 14.62-1.27 1.27-2.47-2.47C14.71 18.52 13.41 19 12 19c-3.15 0-5.87-2.01-6.8-4.89C6.54 12.01 8 10.15 8 10.15l-3.94-3.94L5.33 4.06z" />
                                </svg>
                            </div>
                            <div class="text-col">
                                <span class="primary">Boost Mode</span>
                                <span class="secondary">Hold key to fast forward</span>
                            </div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="booster-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>

                    <!-- Hidden sub-settings (Visible when checked) -->
                    <div id="boost-settings-panel" class="sub-settings"
                        style="margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255,255,255,0.1);">
                        <div class="setting-row compact">
                            <label for="boostKeySelect">Trigger Key</label>
                            <select id="boostKeySelect" class="styled-select">
                                <option value="Shift">Shift</option>
                                <option value="Control">Ctrl</option>
                                <option value="Alt">Alt</option>
                            </select>
                        </div>
                        <div class="slider-row compact" style="margin-top: 8px;">
                            <label for="boostSpeedSlider">Multiplier: <span id="boostSpeedValue"
                                    style="color:var(--primary-color);">2.5x</span></label>
                            <input type="range" id="boostSpeedSlider" min="1.5" max="5.0" step="0.5" value="2.5">
                        </div>
                    </div>
                </div>

                <!-- Auto Skip -->
                <div class="setting-card">
                    <div class="setting-row">
                        <div class="setting-label">
                            <div class="icon-wrap">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                    <path
                                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14.5v-9l6 4.5-6 4.5z" />
                                </svg>
                            </div>
                            <div class="text-col">
                                <span class="primary">Auto Skip Ads</span>
                                <span class="secondary">Press 'Skip' automatically</span>
                            </div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="auto-skip-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Speed Ads -->
                <div class="setting-card">
                    <div class="setting-row">
                        <div class="setting-label">
                            <div class="icon-wrap">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                    <path
                                        d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z" />
                                </svg>
                            </div>
                            <div class="text-col">
                                <span class="primary">Speed Up Ads</span>
                                <span class="secondary">Force 16x on ads</span>
                            </div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="speed-ads-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-target="view-speed">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path
                    d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z" />
            </svg>
            <span>Speed</span>
        </button>
        <button class="nav-item" data-target="view-tools">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path
                    d="M21.71 20.29l-3.61-3.62A10.04 10.04 0 0 0 19.5 12c0-5.52-4.47-9.99-9.99-9.99a9.98 9.98 0 0 0-4.99 1.35L2.29 1.17c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l19.42 19.41c.39.39 1.02.39 1.41 0 .39-.38.39-1.01 0-1.4zM5.13 5.41A8.04 8.04 0 0 1 9.51 4c4.41 0 8 3.59 8 8 0 1.48-.42 2.85-1.14 4.02L5.13 5.41zM3.56 6.98L6.4 9.82c-.08.69-.03 1.48.24 2.37.58 1.93 2.15 3.51 4.09 4.09 1.06.32 2.05.25 2.83.05l2.87 2.87A7.94 7.94 0 0 1 9.51 20c-4.41 0-8-3.59-8-8 0-1.76.54-3.4 1.47-4.75.19-.28.39-.52.58-.75z" />
                <path d="M5 19h14v2H5z" opacity="0" />
                <!-- Using generic Tools icon path -->
                <path
                    d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z" />
            </svg>
            <span>Tools</span>
        </button>
        <button class="nav-item" data-target="view-settings">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path
                    d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84a.484.484 0 0 0-.48.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96a.488.488 0 0 0-.59.22L2.85 8.87a.49.49 0 0 0 .12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.27.41.48.41h3.84c.24 0 .44-.17.48-.41l.36-2.54c.59-.24 1.13-.57 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32a.49.49 0 0 0-.12-.61l-2.03-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
            </svg>
            <span>Config</span>
        </button>
    </nav>

    <script src="popup.js"></script>
</body>

</html>