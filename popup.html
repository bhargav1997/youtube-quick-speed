<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>YouTube Quick Speed & Loop Control</title>
    <link rel="stylesheet" href="popup.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
</head>

<body>

    <!-- Top Header (Always Visible) -->
    <header>
        <div class="title-group">
            <div class="logo-icon">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                    <path
                        d="M10 8v8l6-4-6-4zm9-6H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H5V4h14v16z" />
                </svg>
            </div>
            <h1>Speed Control</h1>
        </div>
        <div id="current-speed-display" class="speed-badge">1.0x</div>
    </header>

    <div class="main-content">

        <!-- VIEW 1: SPEED (Home) -->
        <div id="view-speed" class="view-section active">
            <div class="section-title">Playback Speed</div>
            <div class="grid-controls">
                <button class="speed-btn" data-speed="0.25">0.25x</button>
                <button class="speed-btn" data-speed="0.75">0.75x</button>
                <button class="speed-btn" data-speed="1">1x</button>
                <button class="speed-btn" data-speed="1.25">1.25x</button>
                <button class="speed-btn" data-speed="1.5">1.5x</button>
                <button class="speed-btn" data-speed="2">2x</button>
                <button class="speed-btn" data-speed="3">3x</button>
                <button class="speed-btn" data-speed="4">4x</button>
            </div>
            <button id="reset-btn" class="reset-btn">
                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor" style="margin-right: 8px;">
                    <path
                        d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" />
                </svg>
                Reset to Normal
            </button>
        </div>

        <!-- VIEW 2: TOOLS (Volume & Loop) -->
        <div id="view-tools" class="view-section" style="display: none;">

            <!-- Volume -->
            <div class="control-panel">
                <div class="panel-header">
                    <div class="icon-wrap">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                            <path
                                d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" />
                        </svg>
                    </div>
                    <span>Volume Boost</span>
                    <span id="vol-value" class="value-tag">100%</span>
                </div>
                <div class="slider-container">
                    <input type="range" id="vol-slider" min="1" max="6" step="0.1" value="1">
                </div>
            </div>

            <!-- Loop -->
            <div class="control-panel">
                <div class="panel-header">
                    <div class="icon-wrap">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                            <path
                                d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z" />
                        </svg>
                    </div>
                    <span>A-B Loop</span>
                    <span id="loop-status" class="value-tag off">OFF</span>
                </div>

                <div class="loop-grid">
                    <button id="btn-loop-a" class="loop-btn">
                        <span class="label">A (Start)</span>
                        <span class="time" id="time-a">Set</span>
                    </button>
                    <button id="btn-loop-b" class="loop-btn">
                        <span class="label">B (End)</span>
                        <span class="time" id="time-b">Set</span>
                    </button>
                    <button id="btn-loop-clear" class="loop-btn clear-btn" disabled title="Clear Loop">
                        ✕
                    </button>
                </div>
                <div class="how-it-works-small">
                    <span>Pause at desired start & click <b>A</b>. Pause at end & click <b>B</b> to loop.</span>
                </div>
            </div>

            <!-- Video Utilities -->
            <div class="control-panel">
                <div class="panel-header">
                    <div class="icon-wrap">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                            <path
                                d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" />
                        </svg>
                    </div>
                    <span>Video Util</span>
                </div>
                <div class="grid-controls" style="grid-template-columns: 1fr; margin-top:8px;">
                    <button id="btn-screenshot" class="loop-btn"
                        style="flex-direction:row; gap:8px; justify-content:center;">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                            <path
                                d="M12 12m-3.2 0a3.2 3.2 0 1 0 6.4 0a3.2 3.2 0 1 0-6.4 0M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z" />
                        </svg>
                        <span>Take Snapshot</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- VIEW 3: SETTINGS -->
        <div id="view-settings" class="view-section" style="display: none;">
            <div class="settings-panel">

                <!-- Zen Mode -->
                <div class="setting-card">
                    <div class="setting-row">
                        <div class="setting-label">
                            <div class="icon-wrap">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                    <path
                                        d="M9 21c-4.5 0-8-4-8-9S5 2 10 2c.33 0 .66.02.97.05C10.33 2.66 10 3.32 10 4c0 3.87 3.13 7 7 7 1.07 0 2.07-.26 2.97-.73C19.7 15.07 15.65 21 9 21z" />
                                </svg>
                            </div>
                            <div class="text-col">
                                <span class="primary">Zen Mode</span>
                                <span class="secondary">Hide sidebar & comments</span>
                            </div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="zen-mode-toggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Boost -->
                <div class="setting-card">
                    <div class="setting-row">
                        <div class="setting-label">
                            <div class="icon-wrap">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                    <path
                                        d="M19 19h-6v-1.15c1.43-.88 2.37-2.44 2.37-4.21 0-2.48-1.79-4.52-4.14-4.89l3.52 3.52c1.43 1.95 2.65 4.15 4.25 6.73zM5.33 4.06l14.61 14.62-1.27 1.27-2.47-2.47C14.71 18.52 13.41 19 12 19c-3.15 0-5.87-2.01-6.8-4.89C6.54 12.01 8 10.15 8 10.15l-3.94-3.94L5.33 4.06z" />
                                </svg>
                            </div>
                            <div class="text-col">
                                <span class="primary">Boost Mode</span>
                                <span class="secondary">Hold key to fast forward</span>
                            </div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="booster-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>

                    <!-- Hidden sub-settings (Visible when checked) -->
                    <div id="boost-settings-panel" class="sub-settings"
                        style="margin-top: 12px; padding-top: 12px; border-top: 1px solid rgba(255,255,255,0.1);">
                        <div class="setting-row compact">
                            <label for="boostKeySelect">Trigger Key</label>
                            <select id="boostKeySelect" class="styled-select">
                                <option value="Shift">Shift</option>
                                <option value="Control">Ctrl</option>
                                <option value="Alt">Alt</option>
                            </select>
                        </div>
                        <div class="slider-row compact" style="margin-top: 8px;">
                            <label for="boostSpeedSlider">Multiplier: <span id="boostSpeedValue"
                                    style="color:var(--primary-color);">2.5x</span></label>
                            <input type="range" id="boostSpeedSlider" min="1.5" max="5.0" step="0.5" value="2.5">
                        </div>
                    </div>
                </div>

                <!-- Auto Skip -->
                <div class="setting-card">
                    <div class="setting-row">
                        <div class="setting-label">
                            <div class="icon-wrap">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                    <path
                                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14.5v-9l6 4.5-6 4.5z" />
                                </svg>
                            </div>
                            <div class="text-col">
                                <span class="primary">Auto Skip Ads</span>
                                <span class="secondary">Press 'Skip' automatically</span>
                            </div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="auto-skip-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Speed Ads -->
                <div class="setting-card">
                    <div class="setting-row">
                        <div class="setting-label">
                            <div class="icon-wrap">
                                <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                                    <path
                                        d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z" />
                                </svg>
                            </div>
                            <div class="text-col">
                                <span class="primary">Speed Up Ads</span>
                                <span class="secondary">Force 16x on ads</span>
                            </div>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" id="speed-ads-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <!-- Help & Support (Compact) -->
                <div class="setting-card"
                    style="margin-top: 12px; border: 1px solid rgba(58, 166, 255, 0.2); padding: 10px;">
                    <div style="display: flex; align-items: center; gap: 6px; margin-bottom: 8px;">
                        <svg viewBox="0 0 24 24" width="16" height="16" fill="var(--primary-color)">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" />
                        </svg>
                        <span style="font-weight: 600; color: var(--primary-color); font-size: 12px;">Need Help?</span>
                    </div>

                    <div style="display: flex; gap: 6px;">
                        <!-- GitHub Link (Compact) -->
                        <a href="https://github.com/bhargav1997/youtube-quick-speed/issues" target="_blank"
                            class="help-link"
                            style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 6px; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 4px; text-decoration: none; color: var(--text-primary); transition: all 0.2s; font-size: 11px;">
                            <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
                                <path
                                    d="M12 2C6.477 2 2 6.477 2 12c0 4.42 2.865 8.17 6.839 9.49.5.092.682-.217.682-.482 0-.237-.008-.866-.013-1.7-2.782.603-3.369-1.34-3.369-1.34-.454-1.156-1.11-1.463-1.11-1.463-.908-.62.069-.608.069-.608 1.003.07 1.531 1.03 1.531 1.03.892 1.529 2.341 1.087 2.91.831.092-.646.35-1.086.636-1.336-2.22-.253-4.555-1.11-4.555-4.943 0-1.091.39-1.984 1.029-2.683-.103-.253-.446-1.27.098-2.647 0 0 .84-.269 2.75 1.025A9.578 9.578 0 0112 6.836c.85.004 1.705.114 2.504.336 1.909-1.294 2.747-1.025 2.747-1.025.546 1.377.203 2.394.1 2.647.64.699 1.028 1.592 1.028 2.683 0 3.842-2.339 4.687-4.566 4.935.359.309.678.919.678 1.852 0 1.336-.012 2.415-.012 2.743 0 .267.18.578.688.48C19.138 20.167 22 16.418 22 12c0-5.523-4.477-10-10-10z" />
                            </svg>
                            <span>GitHub</span>
                        </a>

                        <!-- Website Link (Compact) -->
                        <a href="https://youtube-quick-speed.vercel.app/" target="_blank" class="help-link"
                            style="flex: 1; display: flex; align-items: center; justify-content: center; gap: 6px; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 4px; text-decoration: none; color: var(--text-primary); transition: all 0.2s; font-size: 11px;">
                            <svg viewBox="0 0 24 24" width="14" height="14" fill="currentColor">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                            </svg>
                            <span>Website</span>
                        </a>
                    </div>
                </div>

            </div>
        </div>

        <!-- VIEW 4: AD BLOCKER (New Universal Ad Blocking) -->
        <div id="view-adblocker" class="view-section" style="display: none;">

            <!-- Statistics Panel -->
            <div class="control-panel">
                <div class="panel-header">
                    <div class="icon-wrap">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                            <path
                                d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" />
                        </svg>
                    </div>
                    <span>Ad Blocking Stats</span>
                </div>

                <div class="stats-grid"
                    style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 12px;">
                    <div class="stat-card">
                        <div class="stat-value" id="stat-session">0</div>
                        <div class="stat-label">This Session</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-total">0</div>
                        <div class="stat-label">All Time</div>
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="control-panel">
                <div class="panel-header">
                    <div class="icon-wrap">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                            <path
                                d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84a.484.484 0 0 0-.48.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96a.488.488 0 0 0-.59.22L2.85 8.87a.49.49 0 0 0 .12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.27.41.48.41h3.84c.24 0 .44-.17.48-.41l.36-2.54c.59-.24 1.13-.57 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32a.49.49 0 0 0-.12-.61l-2.03-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
                        </svg>
                    </div>
                    <span>Quick Actions</span>
                </div>

                <div class="grid-controls" style="grid-template-columns: 1fr; margin-top: 12px; gap: 8px;">
                    <button id="btn-toggle-site" class="action-btn-large">
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
                        </svg>
                        <span id="toggle-site-text">Disable on This Site</span>
                    </button>

                    <button id="btn-reset-stats" class="action-btn-large secondary">
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor">
                            <path
                                d="M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z" />
                        </svg>
                        <span>Reset Statistics</span>
                    </button>
                </div>
            </div>

            <!-- Whitelist Management -->
            <div class="control-panel">
                <div class="panel-header">
                    <div class="icon-wrap">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z" />
                        </svg>
                    </div>
                    <span>Whitelisted Sites</span>
                    <span id="whitelist-count" class="value-tag">0</span>
                </div>

                <div id="whitelist-container" class="whitelist-list"
                    style="margin-top: 12px; max-height: 150px; overflow-y: auto;">
                    <div class="empty-state">No whitelisted sites</div>
                </div>
            </div>
        </div>

        <!-- VIEW 5: FOCUS (New) -->
        <div id="view-focus" class="view-section" style="display: none;">
            <div class="control-panel">
                <div class="panel-header">
                    <div class="icon-wrap">
                        <svg viewBox="0 0 24 24" width="18" height="18" fill="currentColor">
                            <path
                                d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z" />
                        </svg>
                    </div>
                    <span>Focus Filter</span>
                    <label class="toggle-switch" style="margin-left: auto;">
                        <input type="checkbox" id="focus-filter-toggle">
                        <span class="slider"></span>
                    </label>
                </div>

                <div class="input-group" style="margin-bottom: 12px; display: flex; gap: 8px;">
                    <input type="text" id="keyword-input" placeholder="Block keywords (e.g. 'shorts')..."
                        class="styled-input">
                    <button id="add-keyword-btn" class="action-btn">Add</button>
                </div>

                <div class="keywords-list" id="keywords-list">
                    <!-- Keywords will be injected here -->
                    <div class="empty-state">No keywords added</div>
                </div>
            </div>

            <div class="control-panel" style="margin-top: 10px;">
                <div class="section-title" style="margin-bottom: 8px;">Block Categories</div>
                <div class="category-grid">
                    <button class="category-btn" data-category="shorts">
                        <span>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M10 14.65c.5.3 1.13.29 1.63-.03l5.06-3.23c.5-.32.6-1.02.21-1.46-.38-.44-1.12-.49-1.57-.1l-1.6.93a1 1 0 0 1-1.28-.27l-1-1.57a3.02 3.02 0 0 0-4.32-.82L4 9.1c-.5.3-1.13.29-1.63-.03-.5-.32-.6-1.02-.21-1.46L2.9 6.78 4.2 9.04c.5.86 1.63 1.13 2.45.6l3.13-2.03c.8-.52 1.87-.27 2.37.53l.9 1.42c.8.52 1.87.27 2.37.53.5-.32.6-1.02.21-1.46-.38-.44-1.12-.49-1.57-.1l-1.6.93a1 1 0 0 1-1.28-.27l-1-1.57a3.02 3.02 0 0 0-4.32-.82L4 9.1c-.5.3-1.13.29-1.63-.03-.5-.32-.6-1.02-.21-1.46L2.9 6.78zM18 10h-2v2h2v-2zm-2 4h-2v2h2v-2zm-2 4h-2v2h2v-2z" />
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 14.5v-9l6 4.5-6 4.5z" />
                            </svg>
                        </span> Shorts
                    </button>
                    <button class="category-btn" data-category="food">
                        <span>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M11 9H9V2H7v7H5V2H3v7c0 2.12 1.66 3.84 3.75 3.97V22h2.5v-9.03C11.34 12.84 13 11.12 13 9V2h-2v7zm5-3v8h2.5v8H21V2c-2.76 0-5 2.24-5 4z" />
                            </svg>
                        </span> Food
                    </button>
                    <button class="category-btn" data-category="tech">
                        <span>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z" />
                            </svg>
                        </span> Tech
                    </button>
                    <button class="category-btn" data-category="ai">
                        <span>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M21 11.5v-1c0-.8-.7-1.5-1.5-1.5H16V6c0-.8-.7-1.5-1.5-1.5h-1V3h-3v1.5h-1C8.7 4.5 8 5.2 8 6v3H4.5c-.8 0-1.5.7-1.5 1.5v1c0 .8.7 1.5 1.5 1.5H8v6c0 .8.7 1.5 1.5 1.5h1v1.5h3v-1.5h1c.8 0 1.5-.7 1.5-1.5v-6h3.5c.8 0 1.5-.7 1.5-1.5zM12 16c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z" />
                            </svg>
                        </span> AI
                    </button>
                    <button class="category-btn" data-category="spiritual">
                        <span>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z" />
                            </svg>
                        </span> Spiritual
                    </button>
                    <button class="category-btn" data-category="gaming">
                        <span>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M21 6H3c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-10 7H8v3H6v-3H3v-2h3V8h2v3h3v2zm4.5 2c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4-3c-.83 0-1.5-.67-1.5-1.5S18.67 9 19.5 9s1.5.67 1.5 1.5-.67 1.5-1.5 1.5z" />
                            </svg>
                        </span> Gaming
                    </button>
                    <!-- Create New Category Button -->
                    <button id="create-category-btn" class="category-btn dashed">
                        <span>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
                            </svg>
                        </span> Create
                    </button>
                </div>
            </div>

            <div class="setting-card">
                <div class="setting-row">
                    <div class="text-col">
                        <span class="primary">Strict Mode</span>
                        <span class="secondary">Hide content completely (no blur overlay)</span>
                    </div>
                    <label class="toggle-switch">
                        <input type="checkbox" id="strict-mode-toggle">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
        </div>

    </div>

    <!-- Create Category Modal -->
    <div id="category-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>New Category</h3>
                <button id="close-modal-btn" class="close-btn">✕</button>
            </div>
            <div class="modal-body">
                <div class="input-group-stack">
                    <label>Category Name</label>
                    <input type="text" id="new-cat-name" placeholder="e.g. Politics">
                </div>
                <div class="input-group-stack">
                    <label>Keywords (comma separated)</label>
                    <textarea id="new-cat-keywords" rows="3" placeholder="election, vote, polls..."></textarea>
                </div>
                <!-- Simple Icon Picker -->
                <div class="input-group-stack">
                    <label>Icon</label>
                    <div class="icon-picker" id="icon-picker">
                        <!-- Folder / Generic -->
                        <span class="picker-item selected"
                            data-icon='<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>'>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z" />
                            </svg>
                        </span>
                        <!-- Block / Ban -->
                        <span class="picker-item"
                            data-icon='<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"/></svg>'>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z" />
                            </svg>
                        </span>
                        <!-- Warning / Alert -->
                        <span class="picker-item"
                            data-icon='<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"/></svg>'>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z" />
                            </svg>
                        </span>
                        <!-- Star / Favorite -->
                        <span class="picker-item"
                            data-icon='<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>'>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" />
                            </svg>
                        </span>
                        <!-- Brain / Learn -->
                        <span class="picker-item"
                            data-icon='<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M6 14c.01-.55.04-1.09.1-1.62L3.19 8.04C1.94 10.15 1.54 13.04 2.5 16s3.84 5.34 6.78 5.86c.06-.52.09-1.05.09-1.59 0-3.5-2.28-6.49-5.37-7.27zM20.81 8.04l-2.91 4.34c.05.53.08 1.07.09 1.62-3.08.78-5.36 3.77-5.36 7.27 0 .54.03 1.07.09 1.59 2.94-.52 5.33-2.95 6.29-5.86.96-2.96.56-5.85-.69-7.96zM13.5 4A1.5 1.5 0 0 0 12 2.5 1.5 1.5 0 0 0 10.5 4c0 1.25.59 2.37 1.5 3.09.91-.72 1.5-1.84 1.5-3.09zM4.64 4.14l2.13 2.13A5.4 5.4 0 0 0 5.4 12c-1.3-.23-2.33-.94-2.76-2.18-.55-1.58-.2-3.86 2-5.68zm14.72 0c2.2 1.82 2.55 4.1 2 5.68-.43 1.25-1.46 1.95-2.76 2.18-.28-2.25-1.42-4.22-3.06-5.73l2.13-2.13z"/></svg>'>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M6 14c.01-.55.04-1.09.1-1.62L3.19 8.04C1.94 10.15 1.54 13.04 2.5 16s3.84 5.34 6.78 5.86c.06-.52.09-1.05.09-1.59 0-3.5-2.28-6.49-5.37-7.27zM20.81 8.04l-2.91 4.34c.05.53.08 1.07.09 1.62-3.08.78-5.36 3.77-5.36 7.27 0 .54.03 1.07.09 1.59 2.94-.52 5.33-2.95 6.29-5.86.96-2.96.56-5.85-.69-7.96zM13.5 4A1.5 1.5 0 0 0 12 2.5 1.5 1.5 0 0 0 10.5 4c0 1.25.59 2.37 1.5 3.09.91-.72 1.5-1.84 1.5-3.09zM4.64 4.14l2.13 2.13A5.4 5.4 0 0 0 5.4 12c-1.3-.23-2.33-.94-2.76-2.18-.55-1.58-.2-3.86 2-5.68zm14.72 0c2.2 1.82 2.55 4.1 2 5.68-.43 1.25-1.46 1.95-2.76 2.18-.28-2.25-1.42-4.22-3.06-5.73l2.13-2.13z" />
                            </svg>
                        </span>
                        <!-- Money -->
                        <span class="picker-item"
                            data-icon='<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.15-1.46-3.27-3.4h1.96c.1 1.05.69 1.64 1.83 1.64 1.22 0 1.91-.64 1.91-1.57 0-1.04-.53-1.46-2.43-1.92-2.35-.57-3.75-1.14-3.75-3.23 0-1.71 1.4-2.85 3.28-3.29V4h2.67v1.94c1.71.35 2.88 1.41 2.98 3.14h-1.96c-.1-1.04-.7-1.48-1.76-1.48-1.25 0-1.78.69-1.78 1.55 0 .93.56 1.34 2.21 1.76 2.55.65 3.86 1.4 3.86 3.44 0 1.78-1.45 2.91-3.13 3.32z"/></svg>'>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.15-1.46-3.27-3.4h1.96c.1 1.05.69 1.64 1.83 1.64 1.22 0 1.91-.64 1.91-1.57 0-1.04-.53-1.46-2.43-1.92-2.35-.57-3.75-1.14-3.75-3.23 0-1.71 1.4-2.85 3.28-3.29V4h2.67v1.94c1.71.35 2.88 1.41 2.98 3.14h-1.96c-.1-1.04-.7-1.48-1.76-1.48-1.25 0-1.78.69-1.78 1.55 0 .93.56 1.34 2.21 1.76 2.55.65 3.86 1.4 3.86 3.44 0 1.78-1.45 2.91-3.13 3.32z" />
                            </svg>
                        </span>
                        <!-- Megaphone -->
                        <span class="picker-item"
                            data-icon='<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M3 17h18v-2H3v2zm0 4h18v-2H3v2zm13-8.88c-.68 1-2.91 3.54-5.5 3.88V21h-2v-4H4v-7h4.15L16 4.12v8z"/></svg>'>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M3 17h18v-2H3v2zm0 4h18v-2H3v2zm13-8.88c-.68 1-2.91 3.54-5.5 3.88V21h-2v-4H4v-7h4.15L16 4.12v8z" />
                            </svg>
                        </span>
                        <!-- Ball / Sports -->
                        <span class="picker-item"
                            data-icon='<svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/></svg>'>
                            <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
                                <path
                                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z" />
                            </svg>
                        </span>
                    </div>
                </div>
                <button id="save-category-btn" class="primary-btn full-width">Create Category</button>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <button class="nav-item active" data-target="view-speed">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path
                    d="M20.38 8.57l-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83z" />
            </svg>
            <span>Speed</span>
        </button>
        <button class="nav-item" data-target="view-tools">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path
                    d="M21.71 20.29l-3.61-3.62A10.04 10.04 0 0 0 19.5 12c0-5.52-4.47-9.99-9.99-9.99a9.98 9.98 0 0 0-4.99 1.35L2.29 1.17c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41l19.42 19.41c.39.39 1.02.39 1.41 0 .39-.38.39-1.01 0-1.4zM5.13 5.41A8.04 8.04 0 0 1 9.51 4c4.41 0 8 3.59 8 8 0 1.48-.42 2.85-1.14 4.02L5.13 5.41zM3.56 6.98L6.4 9.82c-.08.69-.03 1.48.24 2.37.58 1.93 2.15 3.51 4.09 4.09 1.06.32 2.05.25 2.83.05l2.87 2.87A7.94 7.94 0 0 1 9.51 20c-4.41 0-8-3.59-8-8 0-1.76.54-3.4 1.47-4.75.19-.28.39-.52.58-.75z" />
                <path d="M5 19h14v2H5z" opacity="0" />
                <!-- Using generic Tools icon path -->
                <path
                    d="M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z" />
            </svg>
            <span>Tools</span>
        </button>
        <button class="nav-item" data-target="view-adblocker">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path
                    d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" />
            </svg>
            <span>AdBlock</span>
        </button>
        <button class="nav-item" data-target="view-focus">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path
                    d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" />
            </svg>
            <span>Focus</span>
        </button>
        <button class="nav-item" data-target="view-settings">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path
                    d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84a.484.484 0 0 0-.48.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96a.488.488 0 0 0-.59.22L2.85 8.87a.49.49 0 0 0 .12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.27.41.48.41h3.84c.24 0 .44-.17.48-.41l.36-2.54c.59-.24 1.13-.57 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32a.49.49 0 0 0-.12-.61l-2.03-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
            </svg>
            <span>Config</span>
        </button>
    </nav>

    <script src="popup.js"></script>
</body>

</html>